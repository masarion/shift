<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シフト希望提出</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1 id="shift-title">Loading...</h1>

    <div class="notice-area">
        <span class="notice-label">店長からのメッセージ：</span>
        <div id="admin-message">Loading...</div>
    </div>

    <form id="shift-form">
        <div class="row-inputs">
            <div class="form-group col-name">
                <label for="username">氏名 (フルネーム)<span class="badge-require">必須</span></label>
                <input type="text" id="username" name="username" placeholder="山田 太郎" required>
            </div>
            <div class="form-group col-birth">
                <label for="birthdate">誕生日 (4ケタ)<span class="badge-require">必須</span></label>
                <input type="text" id="birthdate" name="birthdate" placeholder="0101" maxlength="4" pattern="\d{4}" inputmode="numeric" required>
            </div>
        </div>
        
        <div class="form-group">
            <label for="email">メールアドレス<span class="badge-optional">任意</span></label>
            <input type="email" id="email" name="email" placeholder="sample@example.com">
            <p class="help-text">※シフト入力内容確認が必要な方はメールで内容を送信します。</p>
        </div>

        <hr class="divider">

        <div class="calendar-section">
            <h2 id="calendar-month-year" class="calendar-header">----年 --月</h2>
            
            <p class="calendar-instruction"></p>

            <div class="calendar-grid-header">
                <div>日</div><div>月</div><div>火</div><div>水</div><div>木</div><div>金</div><div>土</div>
            </div>
            
            <div id="calendar-grid" class="calendar-grid"></div>
        </div>
        
        <div class="form-group notes-area">
            <label for="notes">連絡事項・特記事項<span class="badge-optional">任意</span></label>
            <textarea id="notes" name="notes" rows="4"></textarea>
        </div>
        
        <div class="submission-notice-area">
            <p>※入力漏れがないか確認してください。<br>※一度提出した後の修正は店長へ直接連絡が必要です。</p>
        </div>

        <div class="user-action-area">
            <div id="submit-confirm-message" class="admin-message" style="margin-bottom: 10px; font-size: 0.9em;">Loading...</div>
            
            <button type="button" onclick="showConfirmation()" class="submit-btn">入力内容を確認する</button>
        </div>
    </form>
</div>

<div id="modal-overlay" class="modal-overlay">
    <div class="modal-content">
        <h3 id="modal-date-display">--日のシフトを選択</h3>
        <div class="shift-options">Loading...</div>
        
        <div class="modal-action-buttons">
            <button type="button" class="action-btn btn-primary" onclick="closeShiftModal()">決定</button>
            <button type="button" class="action-btn btn-secondary" onclick="closeShiftModal()">キャンセル</button>
        </div>
    </div>
</div>

<div id="confirm-modal" class="modal-overlay">
    <div class="modal-content confirm-content">
        <h3>提出内容の確認</h3>
        
        <div id="confirm-user-info" class="confirm-user-info"></div>
        
        <div id="confirm-notes-info" class="confirm-notes-info"></div>

        <div class="calendar-grid-header" style="margin-top: 15px; margin-bottom:5px;">
            <div>日</div><div>月</div><div>火</div><div>水</div><div>木</div><div>金</div><div>土</div>
        </div>

        <div id="confirm-calendar-grid" class="calendar-grid confirm-grid-style"></div>

        <div class="confirm-actions">
            <div id="send-final-message" class="admin-message" style="margin-bottom: 10px; font-size: 0.9em; color: #d32f2f;">Loading...</div>

            <button type="button" class="action-btn btn-primary" onclick="submitData()">送信する</button>
            <button type="button" class="action-btn btn-secondary" onclick="closeConfirmModal()">戻って修正</button>
        </div>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>
